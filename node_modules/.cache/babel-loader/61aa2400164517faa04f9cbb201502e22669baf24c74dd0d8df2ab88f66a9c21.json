{"ast":null,"code":"import _toConsumableArray from\"C:/Users/HP/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/HP/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";export var initialState={basket:[]};//selector\nexport var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.price+amount;},0);};var reducer=function reducer(state,action){console.log(action);switch(action.type){case'ADD_TO_BASKET':return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case'REMOVE_FROM_BASKET':var index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});var newBasket=_toConsumableArray(state.basket);if(index>=0){newBasket.splice(index,1);}else{console.warn(\"cant remove product (id:\".concat(action.id,\") as its not in basket!\"));}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});default:return state;}};export default reducer;","map":{"version":3,"names":["initialState","basket","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","index","findIndex","basketItem","id","newBasket","splice","warn"],"sources":["C:/Users/HP/Documents/programs/projects/amazon-clone/src/reducer.js"],"sourcesContent":["export const initialState ={\r\n    basket:[],\r\n};\r\n\r\n//selector\r\nexport const getBasketTotal=(basket)=>\r\n    basket?.reduce((amount,item)=>item.price+amount,0);\r\n\r\nconst reducer=(state,action)=>{\r\n    console.log(action);\r\n    switch(action.type){\r\n        case 'ADD_TO_BASKET':\r\n            return{\r\n                ...state,\r\n                basket:[...state.basket,action.item]\r\n            };\r\n        case 'REMOVE_FROM_BASKET':\r\n            const index=state.basket.findIndex(\r\n                (basketItem)=>basketItem.id===action.id\r\n            );\r\n            let newBasket=[...state.basket];\r\n            if(index>=0){\r\n                newBasket.splice(index,1);\r\n            }\r\n            else{\r\n                console.warn(\r\n                    `cant remove product (id:${action.id}) as its not in basket!`\r\n                )\r\n            }\r\n            return{\r\n                ...state,\r\n                basket:newBasket\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer"],"mappings":"yMAAA,MAAO,IAAMA,aAAY,CAAE,CACvBC,MAAM,CAAC,EACX,CAAC,CAED;AACA,MAAO,IAAMC,eAAc,CAAC,QAAfA,eAAc,CAAED,MAAM,QAC/BA,OAAM,SAANA,MAAM,iBAANA,MAAM,CAAEE,MAAM,CAAC,SAACC,MAAM,CAACC,IAAI,QAAGA,KAAI,CAACC,KAAK,CAACF,MAAM,GAAC,CAAC,CAAC,GAEtD,GAAMG,QAAO,CAAC,QAARA,QAAO,CAAEC,KAAK,CAACC,MAAM,CAAG,CAC1BC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CACnB,OAAOA,MAAM,CAACG,IAAI,EACd,IAAK,eAAe,CAChB,sCACOJ,KAAK,MACRP,MAAM,8BAAKO,KAAK,CAACP,MAAM,GAACQ,MAAM,CAACJ,IAAI,EAAC,GAE5C,IAAK,oBAAoB,CACrB,GAAMQ,MAAK,CAACL,KAAK,CAACP,MAAM,CAACa,SAAS,CAC9B,SAACC,UAAU,QAAGA,WAAU,CAACC,EAAE,GAAGP,MAAM,CAACO,EAAE,GAC1C,CACD,GAAIC,UAAS,oBAAKT,KAAK,CAACP,MAAM,CAAC,CAC/B,GAAGY,KAAK,EAAE,CAAC,CAAC,CACRI,SAAS,CAACC,MAAM,CAACL,KAAK,CAAC,CAAC,CAAC,CAC7B,CAAC,IACG,CACAH,OAAO,CAACS,IAAI,mCACmBV,MAAM,CAACO,EAAE,4BACvC,CACL,CACA,sCACOR,KAAK,MACRP,MAAM,CAACgB,SAAS,GAExB,QACI,MAAOT,MAAK,CAAC,CAEzB,CAAC,CAED,cAAeD,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}